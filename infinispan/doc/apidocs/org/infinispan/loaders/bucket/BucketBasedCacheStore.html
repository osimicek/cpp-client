<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_33) on Fri Feb 08 16:40:53 GMT 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
BucketBasedCacheStore (Infinispan Distribution 5.2.1.Final API)
</TITLE>

<META NAME="date" CONTENT="2013-02-08">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BucketBasedCacheStore (Infinispan Distribution 5.2.1.Final API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BucketBasedCacheStore.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/infinispan/loaders/bucket/Bucket.Externalizer.html" title="class in org.infinispan.loaders.bucket"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.BucketHandler.html" title="interface in org.infinispan.loaders.bucket"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/infinispan/loaders/bucket/BucketBasedCacheStore.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BucketBasedCacheStore.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_org.infinispan.loaders.AbstractCacheStore">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.infinispan.loaders.bucket</FONT>
<BR>
Class BucketBasedCacheStore</H2>
<PRE>
<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/infinispan/loaders/AbstractCacheLoader.html" title="class in org.infinispan.loaders">org.infinispan.loaders.AbstractCacheLoader</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html" title="class in org.infinispan.loaders">org.infinispan.loaders.AbstractCacheStore</A>
          <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html" title="class in org.infinispan.loaders">org.infinispan.loaders.LockSupportCacheStore</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;
              <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.infinispan.loaders.bucket.BucketBasedCacheStore</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../org/infinispan/loaders/CacheLoader.html" title="interface in org.infinispan.loaders">CacheLoader</A>, <A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../org/infinispan/loaders/cloud/CloudCacheStore.html" title="class in org.infinispan.loaders.cloud">CloudCacheStore</A>, <A HREF="../../../../org/infinispan/loaders/file/FileCacheStore.html" title="class in org.infinispan.loaders.file">FileCacheStore</A>, <A HREF="../../../../org/infinispan/loaders/jdbc/binary/JdbcBinaryCacheStore.html" title="class in org.infinispan.loaders.jdbc.binary">JdbcBinaryCacheStore</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>BucketBasedCacheStore</B><DT>extends <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html" title="class in org.infinispan.loaders">LockSupportCacheStore</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;</DL>
</PRE>

<P>
Base class for CacheStore implementations that combine entries into buckets when storing data.
 <p/>
 A hashing algorithm is used to map keys to buckets, and a bucket consists of a collection of key/value pairs.
 <p/>
 This approach, while adding an overhead of having to search through the contents of buckets a relevant entry,
 allows us to use any Serializable object as a key since the bucket is identified by a hash code.  This hash code
 is often easy to represent in a physical store, such as a file system, database, etc.
 <p/>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>4.0</DD>
<DT><B>Author:</B></DT>
  <DD>Mircea.Markus@jboss.com, Manik Surtani, <a href="http://gleamynode.net/">Trustin Lee</a></DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;interface</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.BucketHandler.html" title="interface in org.infinispan.loaders.bucket">BucketBasedCacheStore.BucketHandler</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.CollectionGeneratingBucketHandler.html" title="class in org.infinispan.loaders.bucket">BucketBasedCacheStore.CollectionGeneratingBucketHandler</A>&lt;<A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.CollectionGeneratingBucketHandler.html" title="type parameter in BucketBasedCacheStore.CollectionGeneratingBucketHandler">T</A>&gt;</B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.infinispan.loaders.AbstractCacheStore"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.infinispan.loaders.<A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html" title="class in org.infinispan.loaders">AbstractCacheStore</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#multiThreadedPurge">multiThreadedPurge</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#purgerService">purgerService</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.infinispan.loaders.AbstractCacheLoader"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.infinispan.loaders.<A HREF="../../../../org/infinispan/loaders/AbstractCacheLoader.html" title="class in org.infinispan.loaders">AbstractCacheLoader</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/infinispan/loaders/AbstractCacheLoader.html#cache">cache</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheLoader.html#marshaller">marshaller</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#BucketBasedCacheStore()">BucketBasedCacheStore</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#getLockFromKey(java.lang.Object)">getLockFromKey</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For <A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html" title="class in org.infinispan.loaders.bucket"><CODE>BucketBasedCacheStore</CODE></A>s the lock should be acquired at bucket level.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#insertBucket(org.infinispan.loaders.bucket.Bucket)">insertBucket</A></B>(<A HREF="../../../../org/infinispan/loaders/bucket/Bucket.html" title="class in org.infinispan.loaders.bucket">Bucket</A>&nbsp;bucket)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts a new Bucket in the storage system.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#loadAllKeysLockSafe(java.util.Set)">loadAllKeysLockSafe</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt;&nbsp;keysToExclude)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../org/infinispan/container/entries/InternalCacheEntry.html" title="interface in org.infinispan.container.entries">InternalCacheEntry</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#loadAllLockSafe()">loadAllLockSafe</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../../../org/infinispan/loaders/bucket/Bucket.html" title="class in org.infinispan.loaders.bucket">Bucket</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#loadBucket(java.lang.Integer)">loadBucket</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;hash)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads a Bucket from the store, based on the hash code of the bucket.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../org/infinispan/container/entries/InternalCacheEntry.html" title="interface in org.infinispan.container.entries">InternalCacheEntry</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#loadLockSafe(int)">loadLockSafe</A></B>(int&nbsp;max)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../org/infinispan/container/entries/InternalCacheEntry.html" title="interface in org.infinispan.container.entries">InternalCacheEntry</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#loadLockSafe(java.lang.Object, java.lang.Integer)">loadLockSafe</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;key,
             <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;lockingKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads an entry from a Bucket, locating the relevant Bucket using the key's hash code.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#loopOverBuckets(org.infinispan.loaders.bucket.BucketBasedCacheStore.BucketHandler)">loopOverBuckets</A></B>(<A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.BucketHandler.html" title="interface in org.infinispan.loaders.bucket">BucketBasedCacheStore.BucketHandler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A mechanism to loop over all buckets in the cache store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#removeLockSafe(java.lang.Object, java.lang.Integer)">removeLockSafe</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;key,
               <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;lockingKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes an entry from a Bucket, locating the relevant Bucket using the key's hash code.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#storeLockSafe(org.infinispan.container.entries.InternalCacheEntry, java.lang.Integer)">storeLockSafe</A></B>(<A HREF="../../../../org/infinispan/container/entries/InternalCacheEntry.html" title="interface in org.infinispan.container.entries">InternalCacheEntry</A>&nbsp;entry,
              <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;lockingKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores an entry in an appropriate Bucket, based on the key's hash code.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#updateBucket(org.infinispan.loaders.bucket.Bucket)">updateBucket</A></B>(<A HREF="../../../../org/infinispan/loaders/bucket/Bucket.html" title="class in org.infinispan.loaders.bucket">Bucket</A>&nbsp;bucket)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates a bucket in the store with the Bucket passed in to the method.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.infinispan.loaders.LockSupportCacheStore"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.infinispan.loaders.<A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html" title="class in org.infinispan.loaders">LockSupportCacheStore</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#acquireGlobalLock(boolean)">acquireGlobalLock</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#clear()">clear</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#clearLockSafe()">clearLockSafe</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#downgradeLock(L)">downgradeLock</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#fromStream(java.io.ObjectInput)">fromStream</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#fromStreamLockSafe(java.io.ObjectInput)">fromStreamLockSafe</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#getTotalLockCount()">getTotalLockCount</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#immediateLockForWriting(L)">immediateLockForWriting</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#init(org.infinispan.loaders.CacheLoaderConfig, org.infinispan.Cache, org.infinispan.marshall.StreamingMarshaller)">init</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#load(int)">load</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#load(java.lang.Object)">load</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#loadAll()">loadAll</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#loadAllKeys(java.util.Set)">loadAllKeys</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#lockForReading(L)">lockForReading</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#lockForWriting(L)">lockForWriting</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#releaseGlobalLock(boolean)">releaseGlobalLock</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#remove(java.lang.Object)">remove</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#start()">start</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#store(org.infinispan.container.entries.InternalCacheEntry)">store</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#toStream(java.io.ObjectOutput)">toStream</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#toStreamLockSafe(java.io.ObjectOutput)">toStreamLockSafe</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#unlock(L)">unlock</A>, <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#upgradeLock(L)">upgradeLock</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.infinispan.loaders.AbstractCacheStore"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.infinispan.loaders.<A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html" title="class in org.infinispan.loaders">AbstractCacheStore</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#applyModifications(java.util.List)">applyModifications</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#commit(org.infinispan.transaction.xa.GlobalTransaction)">commit</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#getCacheStoreConfig()">getCacheStoreConfig</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#getConcurrencyLevel()">getConcurrencyLevel</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#getMarshaller()">getMarshaller</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)">prepare</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#purgeExpired()">purgeExpired</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#purgeInternal()">purgeInternal</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#removeAll(java.util.Set)">removeAll</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#rollback(org.infinispan.transaction.xa.GlobalTransaction)">rollback</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#safeClose(java.io.InputStream)">safeClose</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#safeClose(java.io.OutputStream)">safeClose</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#stop()">stop</A>, <A HREF="../../../../org/infinispan/loaders/AbstractCacheStore.html#supportsMultiThreadedPurge()">supportsMultiThreadedPurge</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.infinispan.loaders.AbstractCacheLoader"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.infinispan.loaders.<A HREF="../../../../org/infinispan/loaders/AbstractCacheLoader.html" title="class in org.infinispan.loaders">AbstractCacheLoader</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/infinispan/loaders/AbstractCacheLoader.html#containsKey(java.lang.Object)">containsKey</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.infinispan.loaders.CacheLoader"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface org.infinispan.loaders.<A HREF="../../../../org/infinispan/loaders/CacheLoader.html" title="interface in org.infinispan.loaders">CacheLoader</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoader.html#containsKey(java.lang.Object)">containsKey</A>, <A HREF="../../../../org/infinispan/loaders/CacheLoader.html#getConfigurationClass()">getConfigurationClass</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BucketBasedCacheStore()"><!-- --></A><H3>
BucketBasedCacheStore</H3>
<PRE>
public <B>BucketBasedCacheStore</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="loadLockSafe(java.lang.Object, java.lang.Integer)"><!-- --></A><H3>
loadLockSafe</H3>
<PRE>
protected <A HREF="../../../../org/infinispan/container/entries/InternalCacheEntry.html" title="interface in org.infinispan.container.entries">InternalCacheEntry</A> <B>loadLockSafe</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;key,
                                          <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;lockingKey)
                                   throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD>Loads an entry from a Bucket, locating the relevant Bucket using the key's hash code.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#loadLockSafe(java.lang.Object, L)">loadLockSafe</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html" title="class in org.infinispan.loaders">LockSupportCacheStore</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - key of the entry to remove.<DD><CODE>lockingKey</CODE> - the hash of the key, as returned by <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#getLockFromKey(java.lang.Object)"><CODE>LockSupportCacheStore.getLockFromKey(Object)</CODE></A>. This
                   is required in order to avoid hash re-computation.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="storeLockSafe(org.infinispan.container.entries.InternalCacheEntry, java.lang.Integer)"><!-- --></A><H3>
storeLockSafe</H3>
<PRE>
protected void <B>storeLockSafe</B>(<A HREF="../../../../org/infinispan/container/entries/InternalCacheEntry.html" title="interface in org.infinispan.container.entries">InternalCacheEntry</A>&nbsp;entry,
                             <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;lockingKey)
                      throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD>Stores an entry in an appropriate Bucket, based on the key's hash code.  If the Bucket does not exist in the
 underlying store, a new one is created.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#storeLockSafe(org.infinispan.container.entries.InternalCacheEntry, L)">storeLockSafe</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html" title="class in org.infinispan.loaders">LockSupportCacheStore</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>entry</CODE> - the entry to store<DD><CODE>lockingKey</CODE> - the hash of the key, as returned by <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#getLockFromKey(java.lang.Object)"><CODE>LockSupportCacheStore.getLockFromKey(Object)</CODE></A>. This
                   is required in order to avoid hash re-computation.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="removeLockSafe(java.lang.Object, java.lang.Integer)"><!-- --></A><H3>
removeLockSafe</H3>
<PRE>
protected boolean <B>removeLockSafe</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;key,
                                 <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;lockingKey)
                          throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD>Removes an entry from a Bucket, locating the relevant Bucket using the key's hash code.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#removeLockSafe(java.lang.Object, L)">removeLockSafe</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html" title="class in org.infinispan.loaders">LockSupportCacheStore</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - key of the entry to remove.<DD><CODE>lockingKey</CODE> - the hash of the key, as returned by <A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#getLockFromKey(java.lang.Object)"><CODE>LockSupportCacheStore.getLockFromKey(Object)</CODE></A>. This
                   is required in order to avoid hash re-computation.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLockFromKey(java.lang.Object)"><!-- --></A><H3>
getLockFromKey</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A> <B>getLockFromKey</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;key)</PRE>
<DL>
<DD>For <A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html" title="class in org.infinispan.loaders.bucket"><CODE>BucketBasedCacheStore</CODE></A>s the lock should be acquired at bucket level. So we're locking based on the
 hash code of the key, as all keys having same hash code will be mapped to same bucket.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#getLockFromKey(java.lang.Object)">getLockFromKey</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html" title="class in org.infinispan.loaders">LockSupportCacheStore</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="insertBucket(org.infinispan.loaders.bucket.Bucket)"><!-- --></A><H3>
insertBucket</H3>
<PRE>
protected void <B>insertBucket</B>(<A HREF="../../../../org/infinispan/loaders/bucket/Bucket.html" title="class in org.infinispan.loaders.bucket">Bucket</A>&nbsp;bucket)
                     throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD>Inserts a new Bucket in the storage system.  If the bucket already exists, this method should simply update the
 store with the contents of the bucket - i.e., behave the same as <A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#updateBucket(org.infinispan.loaders.bucket.Bucket)"><CODE>updateBucket(Bucket)</CODE></A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bucket</CODE> - bucket to insert
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE> - in case of problems with the store.</DL>
</DD>
</DL>
<HR>

<A NAME="loadAllLockSafe()"><!-- --></A><H3>
loadAllLockSafe</H3>
<PRE>
protected <A HREF="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../org/infinispan/container/entries/InternalCacheEntry.html" title="interface in org.infinispan.container.entries">InternalCacheEntry</A>&gt; <B>loadAllLockSafe</B>()
                                           throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#loadAllLockSafe()">loadAllLockSafe</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html" title="class in org.infinispan.loaders">LockSupportCacheStore</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadLockSafe(int)"><!-- --></A><H3>
loadLockSafe</H3>
<PRE>
protected <A HREF="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../org/infinispan/container/entries/InternalCacheEntry.html" title="interface in org.infinispan.container.entries">InternalCacheEntry</A>&gt; <B>loadLockSafe</B>(int&nbsp;max)
                                        throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#loadLockSafe(int)">loadLockSafe</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html" title="class in org.infinispan.loaders">LockSupportCacheStore</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadAllKeysLockSafe(java.util.Set)"><!-- --></A><H3>
loadAllKeysLockSafe</H3>
<PRE>
protected <A HREF="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt; <B>loadAllKeysLockSafe</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt;&nbsp;keysToExclude)
                                   throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html#loadAllKeysLockSafe(java.util.Set)">loadAllKeysLockSafe</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/LockSupportCacheStore.html" title="class in org.infinispan.loaders">LockSupportCacheStore</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loopOverBuckets(org.infinispan.loaders.bucket.BucketBasedCacheStore.BucketHandler)"><!-- --></A><H3>
loopOverBuckets</H3>
<PRE>
protected abstract void <B>loopOverBuckets</B>(<A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.BucketHandler.html" title="interface in org.infinispan.loaders.bucket">BucketBasedCacheStore.BucketHandler</A>&nbsp;handler)
                                 throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD>A mechanism to loop over all buckets in the cache store.  Implementations should, very simply, loop over all
 available buckets, and for each deserialized bucket, pass it to the handler.
 <p />
 The implementation is expected to loop over <i>all</i> available buckets (in any order), until <A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.BucketHandler.html#handle(org.infinispan.loaders.bucket.Bucket)"><CODE>BucketBasedCacheStore.BucketHandler.handle(Bucket)</CODE></A>
 returns <tt>true</tt> or there are no more buckets available.
 <p />
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handler</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="updateBucket(org.infinispan.loaders.bucket.Bucket)"><!-- --></A><H3>
updateBucket</H3>
<PRE>
protected abstract void <B>updateBucket</B>(<A HREF="../../../../org/infinispan/loaders/bucket/Bucket.html" title="class in org.infinispan.loaders.bucket">Bucket</A>&nbsp;bucket)
                              throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD>Updates a bucket in the store with the Bucket passed in to the method.  This method assumes that the bucket
 already exists in the store, however some implementations may choose to simply create a new bucket if the bucket
 does not exist.
 <p />
 The default behavior is that non-existent buckets are created on the fly.  If this is <i>not</i> the case in your
 implementation, then you would have to override <A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#insertBucket(org.infinispan.loaders.bucket.Bucket)"><CODE>insertBucket(Bucket)</CODE></A> as well so that it doesn't blindly
 forward calls to <A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.html#updateBucket(org.infinispan.loaders.bucket.Bucket)"><CODE>updateBucket(Bucket)</CODE></A>.
 <p />
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bucket</CODE> - bucket to update.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE> - in case of problems with the store.</DL>
</DD>
</DL>
<HR>

<A NAME="loadBucket(java.lang.Integer)"><!-- --></A><H3>
loadBucket</H3>
<PRE>
protected abstract <A HREF="../../../../org/infinispan/loaders/bucket/Bucket.html" title="class in org.infinispan.loaders.bucket">Bucket</A> <B>loadBucket</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;hash)
                              throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD>Loads a Bucket from the store, based on the hash code of the bucket.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>hash</CODE> - the Bucket's hash
<DT><B>Returns:</B><DD>a Bucket if one exists, null otherwise.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE> - in case of problems with the store.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BucketBasedCacheStore.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
-->                       <!-- Google Analytics --> <!-- <script type='text/javascript'> var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E")); </script> <script type='text/javascript'> try { var pageTracker = _gat._getTracker("UA-8601422-4"); pageTracker._trackPageview(); } catch(err) {}</script></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/infinispan/loaders/bucket/Bucket.Externalizer.html" title="class in org.infinispan.loaders.bucket"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/infinispan/loaders/bucket/BucketBasedCacheStore.BucketHandler.html" title="interface in org.infinispan.loaders.bucket"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/infinispan/loaders/bucket/BucketBasedCacheStore.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BucketBasedCacheStore.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_org.infinispan.loaders.AbstractCacheStore">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2013 <a href="http://www.jboss.org">JBoss, a division of Red Hat</a>. All Rights Reserved.
</BODY>
</HTML>
