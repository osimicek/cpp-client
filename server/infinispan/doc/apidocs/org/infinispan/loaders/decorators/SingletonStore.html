<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_33) on Fri Feb 08 16:40:53 GMT 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
SingletonStore (Infinispan Distribution 5.2.1.Final API)
</TITLE>

<META NAME="date" CONTENT="2013-02-08">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SingletonStore (Infinispan Distribution 5.2.1.Final API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SingletonStore.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/infinispan/loaders/decorators/ReadOnlyStore.html" title="class in org.infinispan.loaders.decorators"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.PushStateException.html" title="class in org.infinispan.loaders.decorators"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/infinispan/loaders/decorators/SingletonStore.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SingletonStore.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.infinispan.loaders.decorators</FONT>
<BR>
Class SingletonStore</H2>
<PRE>
<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">org.infinispan.loaders.decorators.AbstractDelegatingStore</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.infinispan.loaders.decorators.SingletonStore</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../org/infinispan/loaders/CacheLoader.html" title="interface in org.infinispan.loaders">CacheLoader</A>, <A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>SingletonStore</B><DT>extends <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></DL>
</PRE>

<P>
SingletonStore is a delegating cache store used for situations when only one instance should interact with the
 underlying store. The coordinator of the cluster will be responsible for the underlying CacheStore.
 <p/>
 SingletonStore is a simply facade to a real CacheStore implementation. It always delegates reads to the real
 CacheStore.
 <p/>
 Writes are delegated <i>only if</i> this SingletonStore is currently the coordinator. This avoids having all stores in
 a cluster writing the same data to the same underlying store. Although not incorrect (e.g. a DB will just discard
 additional INSERTs for the same key, and throw an exception), this will avoid a lot of redundant work.
 <p/>
 Whenever the current coordinator dies (or leaves), the second in line will take over. That SingletonStore will then
 pass writes through to its underlying CacheStore. Optionally, when a new coordinator takes over the Singleton, it can
 push the in-memory state to the cache cacheStore, within a time constraint.
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>4.0</DD>
<DT><B>Author:</B></DT>
  <DD>Bela Ban, <a href="mailto:galder.zamarreno@jboss.com">Galder Zamarreno</a>, Manik Surtani</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.PushStateException.html" title="class in org.infinispan.loaders.decorators">SingletonStore.PushStateException</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exception representing any issues that arise from pushing the in-memory state to the cache loader.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.SingletonStoreListener.html" title="class in org.infinispan.loaders.decorators">SingletonStore.SingletonStoreListener</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cache listener that reacts to cluster topology changes to find out whether a new coordinator is elected.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#SingletonStore(org.infinispan.loaders.CacheStore, org.infinispan.Cache, org.infinispan.loaders.decorators.SingletonStoreConfig)">SingletonStore</A></B>(<A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A>&nbsp;delegate,
               <A HREF="../../../../org/infinispan/Cache.html" title="interface in org.infinispan">Cache</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>,<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt;&nbsp;cache,
               <A HREF="../../../../org/infinispan/loaders/decorators/SingletonStoreConfig.html" title="class in org.infinispan.loaders.decorators">SingletonStoreConfig</A>&nbsp;config)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#activeStatusChanged(boolean)">activeStatusChanged</A></B>(boolean&nbsp;newActiveState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method called when the cache either becomes the coordinator or stops being the coordinator.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#awaitForPushToFinish(java.util.concurrent.Future, long, java.util.concurrent.TimeUnit)">awaitForPushToFinish</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;?&gt;&nbsp;future,
                     long&nbsp;timeout,
                     <A HREF="http://java.sun.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;unit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method that waits for the in-memory to cache loader state to finish.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#clear()">clear</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears all entries in the store</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#commit(org.infinispan.transaction.xa.GlobalTransaction)">commit</A></B>(<A HREF="../../../../org/infinispan/transaction/xa/GlobalTransaction.html" title="class in org.infinispan.transaction.xa">GlobalTransaction</A>&nbsp;tx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commits a transaction that has been previously prepared.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</A>&lt;?&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#createPushStateTask()">createPushStateTask</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Factory method for the creation of a Callable task in charge of pushing in-memory state to cache loader.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#fromStream(java.io.ObjectInput)">fromStream</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/io/ObjectInput.html?is-external=true" title="class or interface in java.io">ObjectInput</A>&nbsp;inputStream)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes contents of the stream to the store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)">prepare</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;? extends <A HREF="../../../../org/infinispan/loaders/modifications/Modification.html" title="interface in org.infinispan.loaders.modifications">Modification</A>&gt;&nbsp;list,
        <A HREF="../../../../org/infinispan/transaction/xa/GlobalTransaction.html" title="class in org.infinispan.transaction.xa">GlobalTransaction</A>&nbsp;tx,
        boolean&nbsp;isOnePhase)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Issues a prepare call with a set of modifications to be applied to the cache store</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#purgeExpired()">purgeExpired</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Purges expired entries from the store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#pushState(org.infinispan.Cache)">pushState</A></B>(<A HREF="../../../../org/infinispan/Cache.html" title="interface in org.infinispan">Cache</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>,<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt;&nbsp;cache)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pushes the state of a specific cache by reading the cache's data and putting in the cache store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#remove(java.lang.Object)">remove</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes an entry in the store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#rollback(org.infinispan.transaction.xa.GlobalTransaction)">rollback</A></B>(<A HREF="../../../../org/infinispan/transaction/xa/GlobalTransaction.html" title="class in org.infinispan.transaction.xa">GlobalTransaction</A>&nbsp;tx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rolls back a transaction that has been previously prepared
 <p/>
 This method <i>may</b> be invoked on a transaction for which there is <i>no</i> prior <A HREF="../../../../org/infinispan/loaders/CacheStore.html#prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)"><CODE>CacheStore.prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#start()">start</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#stop()">stop</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#store(org.infinispan.container.entries.InternalCacheEntry)">store</A></B>(<A HREF="../../../../org/infinispan/container/entries/InternalCacheEntry.html" title="interface in org.infinispan.container.entries">InternalCacheEntry</A>&nbsp;ed)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores an entry</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.infinispan.loaders.decorators.AbstractDelegatingStore"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.infinispan.loaders.decorators.<A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#containsKey(java.lang.Object)">containsKey</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#getCacheStoreConfig()">getCacheStoreConfig</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#getConfigurationClass()">getConfigurationClass</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#getDelegate()">getDelegate</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#init(org.infinispan.loaders.CacheLoaderConfig, org.infinispan.Cache, org.infinispan.marshall.StreamingMarshaller)">init</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#load(int)">load</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#load(java.lang.Object)">load</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#loadAll()">loadAll</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#loadAllKeys(java.util.Set)">loadAllKeys</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#removeAll(java.util.Set)">removeAll</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#setDelegate(org.infinispan.loaders.CacheStore)">setDelegate</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#toStream(java.io.ObjectOutput)">toStream</A>, <A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#undelegateCacheLoader(org.infinispan.loaders.CacheLoader)">undelegateCacheLoader</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SingletonStore(org.infinispan.loaders.CacheStore, org.infinispan.Cache, org.infinispan.loaders.decorators.SingletonStoreConfig)"><!-- --></A><H3>
SingletonStore</H3>
<PRE>
public <B>SingletonStore</B>(<A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A>&nbsp;delegate,
                      <A HREF="../../../../org/infinispan/Cache.html" title="interface in org.infinispan">Cache</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>,<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt;&nbsp;cache,
                      <A HREF="../../../../org/infinispan/loaders/decorators/SingletonStoreConfig.html" title="class in org.infinispan.loaders.decorators">SingletonStoreConfig</A>&nbsp;config)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="store(org.infinispan.container.entries.InternalCacheEntry)"><!-- --></A><H3>
store</H3>
<PRE>
public void <B>store</B>(<A HREF="../../../../org/infinispan/container/entries/InternalCacheEntry.html" title="interface in org.infinispan.container.entries">InternalCacheEntry</A>&nbsp;ed)
           throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#store(org.infinispan.container.entries.InternalCacheEntry)">CacheStore</A></CODE></B></DD>
<DD>Stores an entry
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#store(org.infinispan.container.entries.InternalCacheEntry)">store</A></CODE> in interface <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#store(org.infinispan.container.entries.InternalCacheEntry)">store</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ed</CODE> - entry to store
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE> - in the event of problems writing to the store</DL>
</DD>
</DL>
<HR>

<A NAME="fromStream(java.io.ObjectInput)"><!-- --></A><H3>
fromStream</H3>
<PRE>
public void <B>fromStream</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/io/ObjectInput.html?is-external=true" title="class or interface in java.io">ObjectInput</A>&nbsp;inputStream)
                throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#fromStream(java.io.ObjectInput)">CacheStore</A></CODE></B></DD>
<DD>Writes contents of the stream to the store.  Implementations should expect that the stream contains data in an
 implementation-specific format, typically generated using <A HREF="../../../../org/infinispan/loaders/CacheStore.html#toStream(java.io.ObjectOutput)"><CODE>CacheStore.toStream(java.io.ObjectOutput)</CODE></A>.  While not a
 requirement, it is recommended that implementations make use of the <A HREF="../../../../org/infinispan/marshall/StreamingMarshaller.html" title="interface in org.infinispan.marshall"><CODE>StreamingMarshaller</CODE></A>
 when dealing with the stream to make use of efficient marshalling.
 <p/>
 It is imperative that implementations <b><i>do not</i></b> close the stream after finishing with it.
 <p/>
 It is also <b><i>recommended</b></i> that implementations use their own start and end markers on the stream since
 other processes may write additional data to the stream after the cache store has written to it.  As such, either
 markers or some other mechanism to prevent the store from reading too much information should be employed when
 writing to the stream in <A HREF="../../../../org/infinispan/loaders/CacheStore.html#fromStream(java.io.ObjectInput)"><CODE>CacheStore.fromStream(java.io.ObjectInput)</CODE></A> to prevent data corruption.
 <p/>
 It can be assumed that the stream passed in already performs buffering such that the cache store implementation
 doesn't have to.
 <p/>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#fromStream(java.io.ObjectInput)">fromStream</A></CODE> in interface <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#fromStream(java.io.ObjectInput)">fromStream</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>inputStream</CODE> - stream to read from
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE> - in the event of problems writing to the store</DL>
</DD>
</DL>
<HR>

<A NAME="clear()"><!-- --></A><H3>
clear</H3>
<PRE>
public void <B>clear</B>()
           throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#clear()">CacheStore</A></CODE></B></DD>
<DD>Clears all entries in the store
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#clear()">clear</A></CODE> in interface <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#clear()">clear</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE> - in the event of problems writing to the store</DL>
</DD>
</DL>
<HR>

<A NAME="remove(java.lang.Object)"><!-- --></A><H3>
remove</H3>
<PRE>
public boolean <B>remove</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;key)
               throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#remove(java.lang.Object)">CacheStore</A></CODE></B></DD>
<DD>Removes an entry in the store.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#remove(java.lang.Object)">remove</A></CODE> in interface <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#remove(java.lang.Object)">remove</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - key to remove
<DT><B>Returns:</B><DD>true if the entry was removed; false if the entry wasn't found.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE> - in the event of problems writing to the store</DL>
</DD>
</DL>
<HR>

<A NAME="purgeExpired()"><!-- --></A><H3>
purgeExpired</H3>
<PRE>
public void <B>purgeExpired</B>()
                  throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#purgeExpired()">CacheStore</A></CODE></B></DD>
<DD>Purges expired entries from the store.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#purgeExpired()">purgeExpired</A></CODE> in interface <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#purgeExpired()">purgeExpired</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE> - in the event of problems writing to the store</DL>
</DD>
</DL>
<HR>

<A NAME="commit(org.infinispan.transaction.xa.GlobalTransaction)"><!-- --></A><H3>
commit</H3>
<PRE>
public void <B>commit</B>(<A HREF="../../../../org/infinispan/transaction/xa/GlobalTransaction.html" title="class in org.infinispan.transaction.xa">GlobalTransaction</A>&nbsp;tx)
            throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#commit(org.infinispan.transaction.xa.GlobalTransaction)">CacheStore</A></CODE></B></DD>
<DD>Commits a transaction that has been previously prepared.
 <p/>
 This method <i>may</b> be invoked on a transaction for which there is <i>no</i> prior <A HREF="../../../../org/infinispan/loaders/CacheStore.html#prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)"><CODE>CacheStore.prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)</CODE></A>.  The implementation would
 need to deal with this case accordingly.  Typically, this would be a no-op, after ensuring any resources attached
 to the transaction are cleared up.
 <p/>
 Also note that this method <i>may</i> be invoked on a thread which is different from the <A HREF="../../../../org/infinispan/loaders/CacheStore.html#prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)"><CODE>CacheStore.prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)</CODE></A> invocation.  As such, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang"><CODE>ThreadLocal</CODE></A>s should not be relied upon to maintain transaction context.
 <p/>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#commit(org.infinispan.transaction.xa.GlobalTransaction)">commit</A></CODE> in interface <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#commit(org.infinispan.transaction.xa.GlobalTransaction)">commit</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tx</CODE> - tx to commit
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE> - in the event of problems writing to the store</DL>
</DD>
</DL>
<HR>

<A NAME="rollback(org.infinispan.transaction.xa.GlobalTransaction)"><!-- --></A><H3>
rollback</H3>
<PRE>
public void <B>rollback</B>(<A HREF="../../../../org/infinispan/transaction/xa/GlobalTransaction.html" title="class in org.infinispan.transaction.xa">GlobalTransaction</A>&nbsp;tx)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#rollback(org.infinispan.transaction.xa.GlobalTransaction)">CacheStore</A></CODE></B></DD>
<DD>Rolls back a transaction that has been previously prepared
 <p/>
 This method <i>may</b> be invoked on a transaction for which there is <i>no</i> prior <A HREF="../../../../org/infinispan/loaders/CacheStore.html#prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)"><CODE>CacheStore.prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)</CODE></A>.  The implementation would
 need to deal with this case accordingly.  Typically, this would be a no-op, after ensuring any resources attached
 to the transaction are cleared up.
 <p/>
 Also note that this method <i>may</i> be invoked on a thread which is different from the <A HREF="../../../../org/infinispan/loaders/CacheStore.html#prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)"><CODE>CacheStore.prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)</CODE></A> invocation.  As such, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang"><CODE>ThreadLocal</CODE></A>s should not be relied upon to maintain transaction context.
 <p/>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#rollback(org.infinispan.transaction.xa.GlobalTransaction)">rollback</A></CODE> in interface <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#rollback(org.infinispan.transaction.xa.GlobalTransaction)">rollback</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tx</CODE> - tx to roll back</DL>
</DD>
</DL>
<HR>

<A NAME="prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)"><!-- --></A><H3>
prepare</H3>
<PRE>
public void <B>prepare</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;? extends <A HREF="../../../../org/infinispan/loaders/modifications/Modification.html" title="interface in org.infinispan.loaders.modifications">Modification</A>&gt;&nbsp;list,
                    <A HREF="../../../../org/infinispan/transaction/xa/GlobalTransaction.html" title="class in org.infinispan.transaction.xa">GlobalTransaction</A>&nbsp;tx,
                    boolean&nbsp;isOnePhase)
             throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)">CacheStore</A></CODE></B></DD>
<DD>Issues a prepare call with a set of modifications to be applied to the cache store
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html#prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)">prepare</A></CODE> in interface <CODE><A HREF="../../../../org/infinispan/loaders/CacheStore.html" title="interface in org.infinispan.loaders">CacheStore</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#prepare(java.util.List, org.infinispan.transaction.xa.GlobalTransaction, boolean)">prepare</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>list</CODE> - modifications to be applied<DD><CODE>tx</CODE> - transaction identifier<DD><CODE>isOnePhase</CODE> - if true, there will not be a commit or rollback phase and changes should be flushed
                      immediately
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE> - in the event of problems writing to the store</DL>
</DD>
</DL>
<HR>

<A NAME="start()"><!-- --></A><H3>
start</H3>
<PRE>
public void <B>start</B>()
           throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoader.html#start()">start</A></CODE> in interface <CODE><A HREF="../../../../org/infinispan/loaders/CacheLoader.html" title="interface in org.infinispan.loaders">CacheLoader</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#start()">start</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="stop()"><!-- --></A><H3>
stop</H3>
<PRE>
public void <B>stop</B>()
          throws <A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoader.html#stop()">stop</A></CODE> in interface <CODE><A HREF="../../../../org/infinispan/loaders/CacheLoader.html" title="interface in org.infinispan.loaders">CacheLoader</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html#stop()">stop</A></CODE> in class <CODE><A HREF="../../../../org/infinispan/loaders/decorators/AbstractDelegatingStore.html" title="class in org.infinispan.loaders.decorators">AbstractDelegatingStore</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/CacheLoaderException.html" title="class in org.infinispan.loaders">CacheLoaderException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createPushStateTask()"><!-- --></A><H3>
createPushStateTask</H3>
<PRE>
protected <A HREF="http://java.sun.com/javase/6/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</A>&lt;?&gt; <B>createPushStateTask</B>()</PRE>
<DL>
<DD>Factory method for the creation of a Callable task in charge of pushing in-memory state to cache loader.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>new instance of Callable<?> whose call() method either throws an exception or returns null if the task was
         successfull.</DL>
</DD>
</DL>
<HR>

<A NAME="pushState(org.infinispan.Cache)"><!-- --></A><H3>
pushState</H3>
<PRE>
protected void <B>pushState</B>(<A HREF="../../../../org/infinispan/Cache.html" title="interface in org.infinispan">Cache</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>,<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt;&nbsp;cache)
                  throws <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></PRE>
<DL>
<DD>Pushes the state of a specific cache by reading the cache's data and putting in the cache store.  This method is
 called recursively so that it iterates through the whole cache.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE> - if there's any issues reading the data from the cache or pushing data to the cache store.</DL>
</DD>
</DL>
<HR>

<A NAME="awaitForPushToFinish(java.util.concurrent.Future, long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
awaitForPushToFinish</H3>
<PRE>
protected void <B>awaitForPushToFinish</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;?&gt;&nbsp;future,
                                    long&nbsp;timeout,
                                    <A HREF="http://java.sun.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;unit)</PRE>
<DL>
<DD>Method that waits for the in-memory to cache loader state to finish. This method's called in case a push state is
 already in progress and we need to wait for it to finish.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>future</CODE> - instance of Future representing the on going push task<DD><CODE>timeout</CODE> - time to wait for the push task to finish<DD><CODE>unit</CODE> - instance of TimeUnit representing the unit of timeout</DL>
</DD>
</DL>
<HR>

<A NAME="activeStatusChanged(boolean)"><!-- --></A><H3>
activeStatusChanged</H3>
<PRE>
protected void <B>activeStatusChanged</B>(boolean&nbsp;newActiveState)
                            throws <A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.PushStateException.html" title="class in org.infinispan.loaders.decorators">SingletonStore.PushStateException</A></PRE>
<DL>
<DD>Method called when the cache either becomes the coordinator or stops being the coordinator. If it becomes the
 coordinator, it can optionally start the in-memory state transfer to the underlying cache store.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newActiveState</CODE> - true if the cache just became the coordinator, false if the cache stopped being the
                       coordinator.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.PushStateException.html" title="class in org.infinispan.loaders.decorators">SingletonStore.PushStateException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>toString</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A></CODE> in class <CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SingletonStore.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
-->                       <!-- Google Analytics --> <!-- <script type='text/javascript'> var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E")); </script> <script type='text/javascript'> try { var pageTracker = _gat._getTracker("UA-8601422-4"); pageTracker._trackPageview(); } catch(err) {}</script></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/infinispan/loaders/decorators/ReadOnlyStore.html" title="class in org.infinispan.loaders.decorators"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/infinispan/loaders/decorators/SingletonStore.PushStateException.html" title="class in org.infinispan.loaders.decorators"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/infinispan/loaders/decorators/SingletonStore.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SingletonStore.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2013 <a href="http://www.jboss.org">JBoss, a division of Red Hat</a>. All Rights Reserved.
</BODY>
</HTML>
